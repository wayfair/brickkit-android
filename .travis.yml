language: android
jdk: oraclejdk8
android:
  components:
    - tools
    - tools
    - platform-tools
    - build-tools-25.0.2
    - android-24
    - android-25
    - extra-android-support
    - extra-google-m2repository
    - extra-android-m2repository
    - sys-img-armeabi-v7a-android-24

before_script:
  - echo no | android create avd --force -n test -t android-24 --abi armeabi-v7a
  - emulator -avd test -no-window &
  - android-wait-for-emulator
  - adb shell input keyevent 82 &

script:
  - cd BrickKit
  - ./gradlew build connectedCheck

after_success:
  - bash <(curl -s https://codecov.io/bash)

deploy:
  provider: bintray
  file: "bintray.descriptor"
  user: "thusson13"
  key:
    secure: ZOhvP2HIzlAEx8lOn31YXzwoYGjr+DTEPalzge65LQHwN5s4G9lnN4iaqEIqj658DuEuKh0LOd2Ys4ZKBZAAnHeZ9Z77rAHe/ReKJ5opwkkbu6og8HOD8klYMjmJphgSuCmV9UO+zhqb7gnW4zYbecG9bjqE+DqEYWrc1hvfU8ZCHtWegIaYhNmq1P0iXMNvPqNFCTLNj86epkLurQBy5xu7n2bzCrWyy7gmkHuYINNC/twH5TCn48e/aYx7u5trU/douvOFG7LLvh+/mREEPUMiuzp8ZHsCzCrEB1sc/Kqo5m4HzqHx7RJQenmCHgGK1vcdpMe1pMMLBBGFngUbqWSZkRduRc51NHIZWyto3r6JjeujZ0lv2zWmyfISvQXgGRWPFYZz15/YVNJ0s52BCidJ2t5H6+GF/18Zvl0q8smh3VufXn7iGOm7kbNplniarDq7ZRjgpqVQHt8CEYWVWO/+3vogxIPdOUGWCncODbY6qrSZqwZz3liZI/ZV6T2O+s+E+G4dbesPGWbX04sMyVya49oBrGP+5IzR7hxz1k2CNONPlLZUql/nGZB/YWgQmCoRGq6H3z48Th+hNyELEuv7INKTsVaNZ3Hv3Un7/M4Aj9irZSRE78JsdAvU2iSOt1dZIq6wKBq1Cxd//0Dd5JnMLTaGfwJoSbqHOaHLIA8=
